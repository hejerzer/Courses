# Error handling
Error handling in Luau is like installing circuit breakers in your code.  
When something goes wrong, instead of the whole house going dark, you isolate the blast and keep the rest alive.  
This is an essential tool for your code because sometimes you will never know when a function will break.  
Using error handlers will definitely make your script safer, not prone to errors.  

Let's check out the functions of the day so we can work on this: 

## warn()
This is same as ```print()``` but you should think it much like a warning, something has gone wrong, but it won't stop the execution of the script.  
```luau
warn("Warning, n > 0")
```
Expected output: 
```
Warning, n > 0
```

## error()
Now this is where it gets serious, calling this function will stop the execution of the script and print out a message.  
```luau
error("ERROR") -- after this line, nothing will run and the script will freeze
print("An error has occurred!") 
```
Expected output:
```
ERROR
```

## pcall()
Now this is one of the most important functions in Luau, meaning protected call, it lets you call functions without errors freezing the whole script.  
```luau
local function makeAnError()
    x -- variable not initialized and missing local keyword
end
pcall(makeAnError())
print("An error has occurred!")
```
Expected output:
```
An error has occurred!
```
Sometimes Roblox will catch these errors before they gets into execution.  
And as always we can check if it successfully executed the function or see the error output, pcall will give us those 2 variables for us.  
```luau
local success, message = pcall(function()
    -- now we are in an inline function, its the same as a normal one but it has no name.
    error("Hey!")
end)

if success then
    print("Successfully executed the function")
else
    warn("An error has occurred") -- great usage of warn
end
```
Expected output:
```
Hey!
An error has occurred
```
If our function returns some variables, we can always get those back:
```luau
local success, var1, var2, var3 = pcall(...)
```
**⚠️WARNING: pcall can be used to silence functions, but most of the times its better to fix the errors before you continue coding other stuff.**

## xpcall()
Now this is a more advanced and useful version of pcall, we can use a custom error handler masked as a function to automatically handle errors with fewer lines, here is an example: 
```luau
local function handle(errorMessage)
    local x = 3 -- we can do whatever we want here to fix our error.
    return errorMessage .. "!" -- This will be the output if the xpcall catches an error
end

local success, result = xpcall(function(
    error("Boom")
end), handle) -- Remember that the second argument only accepts the function itself, not the one being called.
